<h1 id="nfql">NFQL</h1>
<hr />
<p>An efficient C implementation of a stream-based flow query language.</p>
<h3 id="installation-on-mac-os-x-using-homebrew">Installation on Mac OS X using Homebrew</h3>
<p>Install <a href="http://mxcl.github.com/homebrew/">Homebrew â†’</a></p>
<pre><code>$ /usr/bin/ruby -e &quot;$(/usr/bin/curl -fsSL https://raw.github.com/mxcl/homebrew/master/Library/Contributions/install_homebrew.rb)&quot;</code></pre>
<p>Install Dependencies</p>
<pre><code>$ wget https://github.com/downloads/vbajpai/nfql/flow-tools-0.68.4.tar.bz2
$ tar -xvf flow-tools-0.68.4.tar.bz2

[flow-tools-0.68.4] $ ./configure
[flow-tools-0.68.4] $ make 
[flow-tools-0.68.4] $ make install  

$ brew install json-c cmake doxygen graphviz</code></pre>
<p>Build the Execution Engine</p>
<pre><code>[engine] $ make CMAKE_PREFIX_PATH=/usr/local/flow-tools/</code></pre>
<p>Generate Documentation (optional)</p>
<p>[engine] $ make doc</p>
<h4 id="running-the-execution-engine">Running the Execution Engine</h4>
<p>Example queries are available in <code>examples/</code> along with sample traces.</p>
<pre><code>[engine] $ bin/engine examples/query-http-tcp-session.json examples/trace-2009.ftz</code></pre>
<p>The sample queries can also be run on your own <code>NetFlow v5</code> records</p>
<pre><code>[engine] $ flow-cat $TRACE[s] | bin/engine examples/query-http-tcp-session.json</code></pre>
<h4 id="running-the-test-suite">Running the Test Suite</h4>
<p>To run the complete regression test-suite:</p>
<pre><code>[engine] $ tests/regression.py [-v]</code></pre>
<p>Regression tests can also be run individually on a specific example query type. For instance:</p>
<pre><code>[engine] $ tests/test-query-http-tcp-session.py [-v]</code></pre>
<h4 id="running-the-benchmarks">Running the Benchmarks</h4>
<p>To run the <code>NFQL</code> benchmarks:</p>
<pre><code>[engine] $ make
[engine] $ sudo benchmarks/nfql.py bin/engine trace[s]/ querie[s]/</code></pre>
